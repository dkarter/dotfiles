# yaml-language-server: $schema=https://raw.githubusercontent.com/evilmartians/lefthook/refs/heads/master/schema.json
pre-commit:
  parallel: true
  jobs:
    - name: Check Secret Leaks
      run: mise x -- gitleaks git --pre-commit --redact --staged --verbose --no-banner

    - name: Check formatting
      run: mise x -- task ci:format:check

    - name: Check for typos
      run: mise x -- task ci:spelling:lint

commit-msg:
  jobs:
    - name: conventional commits
      run: mise x -- committed --commit-file {1}

pre-push:
  commands:
    ci:
      run: mise x -- task ci:run
