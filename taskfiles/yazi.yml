# yaml-language-server: $schema=https://taskfile.dev/schema.json
version: '3'

tasks:
  commit:
    desc: Commits the lazy-lock.json file if changed
    silent: true
    cmd: |
      ./scripts/commit_changed_file.sh \
          './config/yazi/package.toml' \
          'chore(yazi): update plugins'

  install:
    desc: Installs all plugins
    silent: true
    cmd: ya pkg install

  update:
    desc: Updates all plugins
    silent: true
    cmd: ya pkg upgrade

  sync:
    desc: Installs and updates all plugins
    silent: true
    cmds:
      - task: install
      - task: update
      - task: commit
