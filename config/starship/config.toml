# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'


format = """
$username\
$hostname\
$kubernetes\
$directory\
$git_branch\
$git_commit\
$git_state\
$git_metrics\
$git_status\
$docker_context\
$memory_usage\
$sudo\
$cmd_duration\
$fill\
[$time]($style) \
$line_break\
$jobs\
$battery\
$status\
$character"""

add_newline = true

# language plugins
deno.disabled = true
docker_context.disabled = true
elixir.disabled = true
erlang.disabled = true
gcloud.disabled = true
golang.disabled = true
lua.disabled = true
nodejs.disabled = true
package.disabled = true
python.disabled = true
ruby.disabled = true
rust.disabled = true
sudo.disabled = false
bun.disabled = true

# to hide this from the prompt you can run kctx -u to unset the current context
[kubernetes]
disabled = false
style = "bright-blue"

# Map long context names to shorter aliases using the new 'contexts' format
[[kubernetes.contexts]]
context_pattern = "gke_.*_us-central1_staging"
context_alias = "staging"

[[kubernetes.contexts]]
context_pattern = "docker-desktop"
context_alias = "desktop"

# Using capture groups to extract parts of the context name:
# [[kubernetes.contexts]]
# context_pattern = "arn:aws:eks:.*:.*:cluster/([\\w-]+)"
# context_alias = "$1"

[cmd_duration]
format = "[$duration]($style) "
min_time = 0
style = "dimmed"
show_milliseconds = true

[time]
disabled = false
format = "[  $time]($style)"
time_format = "%r"
utc_time_offset = "local"
style = "italic dimmed white"

[memory_usage]
disabled = false
# percent threshold to start showing memory usage
threshold = 90
symbol = "󰘚 "
